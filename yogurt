#!/usr/bin/env python

# Creator: Jose Augusto
# Create date: 20/08/2018
# Last update: 23/01/2019

# [imports]----------
import sys

# [local files]------
from modules import install
from modules import search
from modules import update
from modules import help
from modules import version


class Main:
    def __init__(self):
        if sys.argv[1:]:
            package = sys.argv[1]
            if package[0] != '-':
                if sys.argv[5:]:
                    package = sys.argv[2] + '-' + sys.argv[3] + '-' + sys.argv[4] + '-' + sys.argv[5]
                    search.search(package)
                elif sys.argv[4:]:
                    package = sys.argv[2] + '-' + sys.argv[3] + '-' + sys.argv[4]
                    search.search(package)
                elif sys.argv[3:]:
                    package = sys.argv[2] + '-' + sys.argv[3]
                    search.search(package)
                elif sys.argv[2:]:
                    package = sys.argv[1] + '-' + sys.argv[2]
                    search.search(package)
                elif sys.argv[1:]:
                    search.search(sys.argv[1])
                else:
                    print("You have to specify a package")
            else:
                if sys.argv[1] == '-S':
                    if sys.argv[2:]:
                        install.install(sys.argv[2])
                    else:
                        print("You have to specify a package")
                elif sys.argv[1] == '-Ss':
                    if sys.argv[5:]:
                        package = sys.argv[2] + '-' + sys.argv[3] + '-' + sys.argv[4] + '-' + sys.argv[5]
                        search.search(package)
                    elif sys.argv[4:]:
                        package = sys.argv[2] + '-' + sys.argv[3] + '-' + sys.argv[4]
                        search.search(package)
                    elif sys.argv[3:]:
                        package = sys.argv[2] + '-' + sys.argv[3]
                        search.search(package)
                    elif sys.argv[2:]:
                        search.search(sys.argv[2])
                    else:
                        print("You have to specify a package")
                elif sys.argv[1] == '-U':
                    update.update_aur()
                elif sys.argv[1] == '-h' or sys.argv[1] == '--help':
                    help.help()
                elif sys.argv[1] == '-v' or sys.argv[1] == '--version':
                    version.version()
                else:
                    print('invalid argument:', sys.argv[1])
        else:
            update.update_all()


main = Main()
